В рамках этого хакатона решил познакомиться с FastAPI и Nginx 

И в ходе реализации возникли вопросы:
1. Не получается выполнить миграции с помощью alembic (когда все контейнеры запущены).
   Пытался вписать команды в Dockerfile и Docker-compose file, выдает ошибку что БД не запущена, хотя прописан запуск FastAPI после БД.
   Вводил отдельно команду в запущенный контейнер - ничего не происходит. Как я понял - это стандартная проблема.
   Как в FastAPI проходят миграции, как их правильно реализовать?
   
   UPD: Отказался от alembic, все равно не помогает... Без упаковки в докер все работает, но в сборке с Docker-compose - нет.
   
2. Не понимаю как правильно настроить Nginx...
   В интернете много разных вариантов, никак не получается понять какой вариант правильный - что и где прописать надо...
   Есть папка media - в которой планируется хранить картинки, которые, как я понял, должны быть доступны по ссылке ./images/*.jpg
   Можете подсказать правильный пример?

   И как я пониманию, веб сервер нужен чтобы нельзя было подключиться из вне к БД или другим портам, кроме разрешенных (кроме как к unicorn). Надо ли это тоже где то настраивать?
   Но я хотел бы оставить возможность подключяться к pgadmin, для внесения информации в БД
